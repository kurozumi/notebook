

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Embracing web standards &mdash; Jupyter Notebook 5.2.1 ドキュメント</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="../../genindex.html"/>
        <link rel="search" title="検索" href="../../search.html"/>
    <link rel="top" title="Jupyter Notebook 5.2.1 ドキュメント" href="../../index.html"/>
        <link rel="up" title="Examples" href="examples_index.html"/>
        <link rel="next" title="Importing Jupyter Notebooks as Modules" href="Importing Notebooks.html"/>
        <link rel="prev" title="Keyboard Shortcut Customization" href="Custom Keyboard Shortcuts.html"/>
<meta name="google-site-verification" content="weS-iT6zr4B9g-sBuM2nD1EZBt55FPAZZbS1K5mkC0g" />


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Jupyter Notebook
          

          
          </a>

          
            
            
              <div class="version">
                5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">ユーザー向けドキュメント</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../notebook.html">Jupyterノートブック</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.readthedocs.io/en/latest/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.readthedocs.io/en/latest/running.html">Running the Notebook</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.readthedocs.io/en/latest/migrating.html">Migrating from IPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ui_components.html">UI Components</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../comms.html">Comms</a></li>
</ul>
<p class="caption"><span class="caption-text">設定</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../config_overview.html">Configuration Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../config.html">Config file and command line options</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../public_server.html">Running a notebook server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html">Security in the Jupyter notebook server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security.html#security-in-notebook-documents">Security in notebook documents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../frontend_config.html">Configuring the notebook frontend</a></li>
<li class="toctree-l1"><a class="reference internal" href="Distributing Jupyter Extensions as Python Packages.html">Distributing Jupyter Extensions as Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../extending/index.html">Extending the Notebook</a></li>
</ul>
<p class="caption"><span class="caption-text">貢献者向けドキュメント</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing.html">Contributing to the Jupyter Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_release.html">Making a Notebook release</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../development_faq.html">Developer FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">コミュニティ向けドキュメント</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples_index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="What is the Jupyter Notebook.html">What is the Jupyter Notebook?</a></li>
<li class="toctree-l1"><a class="reference internal" href="Notebook Basics.html">Notebook Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Running Code.html">Running Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="Working With Markdown Cells.html">Markdown Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="Custom Keyboard Shortcuts.html">Keyboard Shortcut Customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="Custom Keyboard Shortcuts.html#Keyboard-Shortcut-Customization-(Pre-Notebook-5.0)">Keyboard Shortcut Customization (Pre Notebook 5.0)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Embracing web standards</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Tampering-with-the-Notebook-application">Tampering with the Notebook application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Injecting-JS">Injecting JS</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Using-magics">Using magics</a></li>
<li class="toctree-l4"><a class="reference internal" href="#custom.js">custom.js</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Exercise-:">Exercise :</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#For-the-quick-ones-:">For the quick ones :</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#A-non-interactive-example-first">A non-interactive example first</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Get-more-documentation">Get more documentation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Some-convenience-methods">Some convenience methods</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Cell-Metadata">Cell Metadata</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#Cell-Toolbar">Cell Toolbar</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#Register-a-callback">Register a callback</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Registering-a-preset">Registering a preset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#Exercise:">Exercise:</a></li>
<li class="toctree-l4"><a class="reference internal" href="#For-the-quickest">For the quickest</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Importing Notebooks.html">Importing Jupyter Notebooks as Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Connecting with the Qt Console.html">Connecting to an existing IPython kernel using the Qt Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="Typesetting Equations.html">Motivating Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="nbpackage/mynotebook.html">My Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="nbpackage/nbs/other.html">Other notebook</a></li>
</ul>
<p class="caption"><span class="caption-text">Jupyterノートブックについて</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Jupyter notebook changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">質問ですか？提案ですか？</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/#!forum/jupyter">Jupyter mailing list</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.org">Jupyter website</a></li>
<li class="toctree-l1"><a class="reference external" href="https://stackoverflow.com/questions/tagged/jupyter">Stack Overflow - Jupyter</a></li>
<li class="toctree-l1"><a class="reference external" href="https://stackoverflow.com/questions/tagged/jupyter-notebook">Stack Overflow - Jupyter-notebook</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Jupyter Notebook</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="examples_index.html">Examples</a> &raquo;</li>
        
      <li>Embracing web standards</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/examples/Notebook/JavaScript Notebook Extensions.ipynb.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<div class="note" style="text-align:center">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- kurozumi.github.io/notebook/ 336*280 -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:336px;height:280px"
       data-ad-client="ca-pub-6843356127740583"
       data-ad-slot="5675011123"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput,
div.nbinput div.prompt,
div.nbinput div.input_area,
div.nbinput div[class*=highlight],
div.nbinput div[class*=highlight] pre,
div.nboutput,
div.nbinput div.prompt,
div.nbinput div.output_area,
div.nboutput div[class*=highlight],
div.nboutput div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput,
div.nboutput {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput,
    div.nboutput {
        flex-direction: column;
    }
}

/* input container */
div.nbinput {
    padding-top: 5px;
}

/* last container */
div.nblast {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput div.prompt pre {
    color: #303F9F;
}

/* output prompt */
div.nboutput div.prompt pre {
    color: #D84315;
}

/* all prompts */
div.nbinput div.prompt,
div.nboutput div.prompt {
    min-width: 8ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput div.prompt,
    div.nboutput div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput div.prompt pre,
div.nboutput div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput div.input_area,
div.nboutput div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput div.input_area,
    div.nboutput div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput div.input_area {
    border: 1px solid #cfcfcf;
    border-radius: 2px;
    background: #f7f7f7;
}

/* override MathJax center alignment in output cells */
div.nboutput div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.pngmath center alignment in output cells */
div.nboutput div.math p {
    text-align: left;
}

/* standard error */
div.nboutput div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="Embracing-web-standards">
<h1>Embracing web standards<a class="headerlink" href="#Embracing-web-standards" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p>One of the main reasons why we developed the current notebook web
application was to embrace the web technology.</p>
<p>By being a pure web application using HTML, Javascript, and CSS, the
Notebook can get all the web technology improvement for free. Thus, as
browser support for different media extend, the notebook web app should
be able to be compatible without modification.</p>
<p>This is also true with performance of the User Interface as the speed of
Javascript VM increases.</p>
<p>The other advantage of using only web technology is that the code of the
interface is fully accessible to the end user and is modifiable live.
Even if this task is not always easy, we strive to keep our code as
accessible and reusable as possible. This should allow us - with minimum
effort - development of small extensions that customize the behavior of
the web interface.</p>
<div class="section" id="Tampering-with-the-Notebook-application">
<h2>Tampering with the Notebook application<a class="headerlink" href="#Tampering-with-the-Notebook-application" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The first tool that is available to you and that you should be aware of
are browser “developers tool”. The exact naming can change across
browser and might require the installation of extensions. But basically
they can allow you to inspect/modify the DOM, and interact with the
javascript code that runs the frontend.</p>
<ul class="simple">
<li>In Chrome and Safari, Developer tools are in the menu
<code class="docutils literal"><span class="pre">View</span> <span class="pre">&gt;</span> <span class="pre">Developer</span> <span class="pre">&gt;</span> <span class="pre">Javascript</span> <span class="pre">Console</span></code></li>
<li>In Firefox you might need to install
<a class="reference external" href="http://getfirebug.com/">Firebug</a></li>
</ul>
<p>Those will be your best friends to debug and try different approaches
for your extensions.</p>
<div class="section" id="Injecting-JS">
<h3>Injecting JS<a class="headerlink" href="#Injecting-JS" title="このヘッドラインへのパーマリンク">¶</a></h3>
<div class="section" id="Using-magics">
<h4>Using magics<a class="headerlink" href="#Using-magics" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>The above tools can be tedious for editing edit long JavaScript files.
Therefore we provide the <code class="docutils literal"><span class="pre">%%javascript</span></code> magic. This allows you to
quickly inject JavaScript into the notebook. Still the javascript
injected this way will not survive reloading. Hence, it is a good tool
for testing and refining a script.</p>
<p>You might see here and there people modifying css and injecting js into
the notebook by reading file(s) and publishing them into the notebook.
Not only does this often break the flow of the notebook and make the
re-execution of the notebook broken, but it also means that you need to
execute those cells in the entire notebook every time you need to update
the code.</p>
<p>This can still be useful in some cases, like the <code class="docutils literal"><span class="pre">%autosave</span></code> magic
that allows you to control the time between each save. But this can be
replaced by a JavaScript dropdown menu to select the save interval.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1">## you can inspect the autosave code to see what it does.</span>
%autosave<span class="o">??</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="custom.js">
<h4>custom.js<a class="headerlink" href="#custom.js" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>To inject Javascript we provide an entry point: <code class="docutils literal"><span class="pre">custom.js</span></code> that
allows the user to execute and load other resources into the notebook.
Javascript code in <code class="docutils literal"><span class="pre">custom.js</span></code> will be executed when the notebook app
starts and can then be used to customize almost anything in the UI and
in the behavior of the notebook.</p>
<p><code class="docutils literal"><span class="pre">custom.js</span></code> can be found in the <code class="docutils literal"><span class="pre">~/.jupyter/custom/custom.js</span></code>. You
can share your custom.js with others.</p>
<div class="section" id="Back-to-theory">
<h5>Back to theory<a class="headerlink" href="#Back-to-theory" title="このヘッドラインへのパーマリンク">¶</a></h5>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">from</span> <span class="nn">jupyter_core.paths</span> <span class="kn">import</span> <span class="n">jupyter_config_dir</span>
<span class="n">jupyter_dir</span> <span class="o">=</span> <span class="n">jupyter_config_dir</span><span class="p">()</span>
<span class="n">jupyter_dir</span>
</pre></div>
</div>
</div>
<p>and custom js is in</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">os.path</span>
<span class="n">custom_js_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">jupyter_dir</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">,</span> <span class="s1">&#39;custom.js&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1">#  my custom js</span>
<span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">custom_js_path</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">custom_js_path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;You don&#39;t have a custom.js file&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Note that <code class="docutils literal"><span class="pre">custom.js</span></code> is meant to be modified by user. When writing a
script, you can define it in a separate file and add a line of
configuration into <code class="docutils literal"><span class="pre">custom.js</span></code> that will fetch and execute the file.</p>
<p><strong>Warning</strong> : even if modification of <code class="docutils literal"><span class="pre">custom.js</span></code> takes effect
immediately after browser refresh (except if browser cache is
aggressive), <em>creating</em> a file in <code class="docutils literal"><span class="pre">static/</span></code> directory needs a <strong>server
restart</strong>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="Exercise-:">
<h2>Exercise :<a class="headerlink" href="#Exercise-:" title="このヘッドラインへのパーマリンク">¶</a></h2>
<ul class="simple">
<li>Create a <code class="docutils literal"><span class="pre">custom.js</span></code> in the right location with the following
content:</li>
</ul>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;hello world from custom.js&quot;</span><span class="p">)</span>
</pre></div>
</div>
<ul class="simple">
<li>Restart your server and open any notebook.</li>
<li>Be greeted by custom.js</li>
</ul>
<p>Have a look at <a class="reference external" href="https://github.com/jupyter/notebook/blob/4.0.x/notebook/static/custom/custom.js">default
custom.js</a>,
to see it’s content and for more explanation.</p>
<div class="section" id="For-the-quick-ones-:">
<h3>For the quick ones :<a class="headerlink" href="#For-the-quick-ones-:" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>We’ve seen above that you can change the autosave rate by using a magic.
This is typically something I don’t want to type every time, and that I
don’t like to embed into my workflow and documents. (readers don’t care
what my autosave time is). Let’s build an extension that allows us to do
it.</p>
<p>Create a dropdown element in the toolbar (DOM
<code class="docutils literal"><span class="pre">Jupyter.toolbar.element</span></code>), you will need</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">Jupyter.notebook.set_autosave_interval(milliseconds)</span></code></li>
<li>know that 1 min = 60 sec, and 1 sec = 1000 ms</li>
</ul>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">var</span> <span class="nx">label</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;&lt;label/&gt;&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;AutoScroll Limit:&#39;</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">select</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;&lt;select/&gt;&#39;</span><span class="p">)</span>
     <span class="c1">//.append(jQuery(&#39;&lt;option/&gt;&#39;).attr(&#39;value&#39;, &#39;2&#39;).text(&#39;2min (default)&#39;))</span>
     <span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">jQuery</span><span class="p">(</span><span class="s1">&#39;&lt;option/&gt;&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="kc">undefined</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="s1">&#39;disabled&#39;</span><span class="p">))</span>

     <span class="c1">// TODO:</span>
     <span class="c1">//the_toolbar_element.append(label)</span>
     <span class="c1">//the_toolbar_element.append(select);</span>

<span class="nx">select</span><span class="p">.</span><span class="nx">change</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
     <span class="kd">var</span> <span class="nx">val</span> <span class="o">=</span> <span class="nx">jQuery</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">val</span><span class="p">()</span> <span class="c1">// val will be the value in [2]</span>
     <span class="c1">// TODO</span>
     <span class="c1">// this will be called when dropdown changes</span>

<span class="p">});</span>

<span class="kd">var</span> <span class="nx">time_m</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">30</span><span class="p">];</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">var</span> <span class="nx">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">time_m</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
     <span class="kd">var</span> <span class="nx">ts</span> <span class="o">=</span> <span class="nx">time_m</span><span class="p">[</span><span class="nx">i</span><span class="p">];</span>
                                          <span class="c1">//[2]   ____ this will be `val` on [1]</span>
                                          <span class="c1">//     |</span>
                                          <span class="c1">//     v</span>
     <span class="nx">select</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;option/&gt;&#39;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="nx">ts</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nx">thr</span><span class="o">+</span><span class="s1">&#39;min&#39;</span><span class="p">));</span>
     <span class="c1">// this will fill up the dropdown `select` with</span>
     <span class="c1">// 1 min</span>
     <span class="c1">// 5 min</span>
     <span class="c1">// 10 min</span>
     <span class="c1">// 10 min</span>
     <span class="c1">// ...</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="section" id="A-non-interactive-example-first">
<h4>A non-interactive example first<a class="headerlink" href="#A-non-interactive-example-first" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>I like my cython to be nicely highlighted</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">Jupyter</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">cell_magic_highlight</span><span class="p">[</span><span class="s1">&#39;magic_text/x-cython&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
<span class="nx">Jupyter</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">cell_magic_highlight</span><span class="p">[</span><span class="s1">&#39;magic_text/x-cython&#39;</span><span class="p">].</span><span class="nx">reg</span> <span class="o">=</span> <span class="p">[</span><span class="sr">/^%%cython/</span><span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">text/x-cython</span></code> is the name of CodeMirror mode name, <code class="docutils literal"><span class="pre">magic_</span></code> prefix
will just patch the mode so that the first line that contains a magic
does not screw up the highlighting. <code class="docutils literal"><span class="pre">reg</span></code>is a list or regular
expression that will trigger the change of mode.</p>
</div>
<div class="section" id="Get-more-documentation">
<h4>Get more documentation<a class="headerlink" href="#Get-more-documentation" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>Sadly, you will have to read the js source file (but there are lots of
comments) and/or build the JavaScript documentation using yuidoc. If you
have <code class="docutils literal"><span class="pre">node</span></code> and <code class="docutils literal"><span class="pre">yui-doc</span></code> installed:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> ~/jupyter/notebook/notebook/static/notebook/js/
$ yuidoc . --server
warn: <span class="o">(</span>yuidoc<span class="o">)</span>: Failed to extract port, setting to the default :3000
info: <span class="o">(</span>yuidoc<span class="o">)</span>: Starting YUIDoc@0.3.45 using YUI@3.9.1 with NodeJS@0.10.15
info: <span class="o">(</span>yuidoc<span class="o">)</span>: Scanning <span class="k">for</span> yuidoc.json file.
info: <span class="o">(</span>yuidoc<span class="o">)</span>: Starting YUIDoc with the following options:
info: <span class="o">(</span>yuidoc<span class="o">)</span>:
<span class="o">{</span> port: <span class="m">3000</span>,
  nocode: false,
  paths: <span class="o">[</span> <span class="s1">&#39;.&#39;</span> <span class="o">]</span>,
  server: true,
  outdir: <span class="s1">&#39;./out&#39;</span> <span class="o">}</span>
info: <span class="o">(</span>yuidoc<span class="o">)</span>: Scanning <span class="k">for</span> yuidoc.json file.
info: <span class="o">(</span>server<span class="o">)</span>: Starting server: http://127.0.0.1:3000
</pre></div>
</div>
<p>and browse <a class="reference external" href="http://127.0.0.1:3000">http://127.0.0.1:3000</a> to get documentation</p>
</div>
<div class="section" id="Some-convenience-methods">
<h4>Some convenience methods<a class="headerlink" href="#Some-convenience-methods" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>By browsing the documentation you will see that we have some convenience
methods that allows us to avoid re-inventing the UI every time :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">Jupyter</span><span class="p">.</span><span class="nx">toolbar</span><span class="p">.</span><span class="nx">add_buttons_group</span><span class="p">([</span>
        <span class="p">{</span>
             <span class="s1">&#39;label&#39;</span>   <span class="o">:</span> <span class="s1">&#39;run qtconsole&#39;</span><span class="p">,</span>
             <span class="s1">&#39;icon&#39;</span>    <span class="o">:</span> <span class="s1">&#39;fa-terminal&#39;</span><span class="p">,</span> <span class="c1">// select your icon from</span>
                                          <span class="c1">// http://fontawesome.io/icons/</span>
             <span class="s1">&#39;callback&#39;</span><span class="o">:</span> <span class="kd">function</span><span class="p">(){</span><span class="nx">Jupyter</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">kernel</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">&#39;%qtconsole&#39;</span><span class="p">)}</span>
        <span class="p">}</span>
        <span class="c1">// add more button here if needed.</span>
        <span class="p">]);</span>
</pre></div>
</div>
<p>with a <a class="reference external" href="http://fontawesome.io/icons/">lot of icons</a> you can select
from.</p>
</div>
</div>
</div>
<div class="section" id="Cell-Metadata">
<h2>Cell Metadata<a class="headerlink" href="#Cell-Metadata" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The most requested feature is generally to be able to distinguish an
individual cell in the notebook, or run a specific action with them. To
do so, you can either use <code class="docutils literal"><span class="pre">Jupyter.notebook.get_selected_cell()</span></code>, or
rely on <code class="docutils literal"><span class="pre">CellToolbar</span></code>. This allows you to register a set of actions
and graphical elements that will be attached to individual cells.</p>
<div class="section" id="Cell-Toolbar">
<h3>Cell Toolbar<a class="headerlink" href="#Cell-Toolbar" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>You can see some example of what can be done by toggling the
<code class="docutils literal"><span class="pre">Cell</span> <span class="pre">Toolbar</span></code> selector in the toolbar on top of the notebook. It
provides two default <code class="docutils literal"><span class="pre">presets</span></code> that are <code class="docutils literal"><span class="pre">Default</span></code> and <code class="docutils literal"><span class="pre">slideshow</span></code>.
Default allows the user to edit the metadata attached to each cell
manually.</p>
<p>First we define a function that takes at first parameter an element on
the DOM in which to inject UI element. The second element is the cell
this element wis registered with. Then we will need to register that
function and give it a name.</p>
<div class="section" id="Register-a-callback">
<h4>Register a callback<a class="headerlink" href="#Register-a-callback" title="このヘッドラインへのパーマリンク">¶</a></h4>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-javascript"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="nx">javascript</span>
<span class="kd">var</span> <span class="nx">CellToolbar</span> <span class="o">=</span> <span class="nx">Jupyter</span><span class="p">.</span><span class="nx">CellToolbar</span>
<span class="kd">var</span> <span class="nx">toggle</span> <span class="o">=</span>  <span class="kd">function</span><span class="p">(</span><span class="nx">div</span><span class="p">,</span> <span class="nx">cell</span><span class="p">)</span> <span class="p">{</span>
     <span class="kd">var</span> <span class="nx">button_container</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">div</span><span class="p">)</span>

     <span class="c1">// let&#39;s create a button that shows the current value of the metadata</span>
     <span class="kd">var</span> <span class="nx">button</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">&#39;&lt;button/&gt;&#39;</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">&#39;btn btn-mini&#39;</span><span class="p">).</span><span class="nx">text</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="nx">cell</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">foo</span><span class="p">));</span>

     <span class="c1">// On click, change the metadata value and update the button label</span>
     <span class="nx">button</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
                 <span class="kd">var</span> <span class="nx">v</span> <span class="o">=</span> <span class="nx">cell</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">foo</span><span class="p">;</span>
                 <span class="nx">cell</span><span class="p">.</span><span class="nx">metadata</span><span class="p">.</span><span class="nx">foo</span> <span class="o">=</span> <span class="o">!</span><span class="nx">v</span><span class="p">;</span>
                 <span class="nx">button</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="nb">String</span><span class="p">(</span><span class="o">!</span><span class="nx">v</span><span class="p">));</span>
             <span class="p">})</span>

     <span class="c1">// add the button to the DOM div.</span>
     <span class="nx">button_container</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
<span class="p">}</span>

 <span class="c1">// now we register the callback under the name foo to give the</span>
 <span class="c1">// user the ability to use it later</span>
 <span class="nx">CellToolbar</span><span class="p">.</span><span class="nx">register_callback</span><span class="p">(</span><span class="s1">&#39;tuto.foo&#39;</span><span class="p">,</span> <span class="nx">toggle</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="Registering-a-preset">
<h4>Registering a preset<a class="headerlink" href="#Registering-a-preset" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>This function can now be part of many <code class="docutils literal"><span class="pre">preset</span></code> of the CellToolBar.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [ ]:
</pre></div>
</div>
<div class="input_area highlight-javascript"><div class="highlight"><pre>
<span></span><span class="o">%%</span><span class="nx">javascript</span>
<span class="nx">Jupyter</span><span class="p">.</span><span class="nx">CellToolbar</span><span class="p">.</span><span class="nx">register_preset</span><span class="p">(</span><span class="s1">&#39;Tutorial 1&#39;</span><span class="p">,[</span><span class="s1">&#39;tuto.foo&#39;</span><span class="p">,</span><span class="s1">&#39;default.rawedit&#39;</span><span class="p">])</span>
<span class="nx">Jupyter</span><span class="p">.</span><span class="nx">CellToolbar</span><span class="p">.</span><span class="nx">register_preset</span><span class="p">(</span><span class="s1">&#39;Tutorial 2&#39;</span><span class="p">,[</span><span class="s1">&#39;slideshow.select&#39;</span><span class="p">,</span><span class="s1">&#39;tuto.foo&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<p>You should now have access to two presets :</p>
<ul class="simple">
<li>Tutorial 1</li>
<li>Tutorial 2</li>
</ul>
<p>And check that the buttons you defined share state when you toggle
preset. Also check that the metadata of the cell is modified when you
click the button, and that when saved on reloaded the metadata is still
available.</p>
</div>
<div class="section" id="Exercise:">
<h4>Exercise:<a class="headerlink" href="#Exercise:" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>Try to wrap the all code in a file, put this file in
<code class="docutils literal"><span class="pre">{jupyter_dir}/custom/&lt;a-name&gt;.js</span></code>, and add</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">require</span><span class="p">([</span><span class="s1">&#39;custom/&lt;a-name&gt;&#39;</span><span class="p">]);</span>
</pre></div>
</div>
<p>in <code class="docutils literal"><span class="pre">custom.js</span></code> to have this script automatically loaded in all your
notebooks.</p>
<p><code class="docutils literal"><span class="pre">require</span></code> is provided by a <a class="reference external" href="http://requirejs.org/">javascript
library</a> that allow you to express dependency.
For simple extension like the previous one we directly mute the global
namespace, but for more complex extension you could pass a callback to
<code class="docutils literal"><span class="pre">require([...],</span> <span class="pre">&lt;callback&gt;)</span></code> call, to allow the user to pass
configuration information to your plugin.</p>
<p>In Python lang,</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">require</span><span class="p">([</span><span class="s1">&#39;a/b&#39;</span><span class="p">,</span> <span class="s1">&#39;c/d&#39;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">e</span><span class="p">,</span> <span class="nx">f</span><span class="p">){</span>
    <span class="nx">e</span><span class="p">.</span><span class="nx">something</span><span class="p">()</span>
    <span class="nx">f</span><span class="p">.</span><span class="nx">something</span><span class="p">()</span>
<span class="p">})</span>
</pre></div>
</div>
<p>could be read as</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">a.b</span> <span class="kn">as</span> <span class="nn">e</span>
<span class="kn">import</span> <span class="nn">c.d</span> <span class="kn">as</span> <span class="nn">f</span>
<span class="n">e</span><span class="o">.</span><span class="n">something</span><span class="p">()</span>
<span class="n">f</span><span class="o">.</span><span class="n">something</span><span class="p">()</span>
</pre></div>
</div>
<p>See for example &#64;damianavila <a class="reference external" href="https://github.com/ipython-contrib/jupyter_contrib_nbextensions/blob/b29c698394239a6931fa4911440550df214812cb/src/jupyter_contrib_nbextensions/nbextensions/zenmode/main.js#L32">“ZenMode”
plugin</a>
:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="c1">// read that as</span>
<span class="c1">// import custom.zenmode.main as zenmode</span>
<span class="nx">require</span><span class="p">([</span><span class="s1">&#39;custom/zenmode/main&#39;</span><span class="p">],</span><span class="kd">function</span><span class="p">(</span><span class="nx">zenmode</span><span class="p">){</span>
    <span class="nx">zenmode</span><span class="p">.</span><span class="nx">background</span><span class="p">(</span><span class="s1">&#39;images/back12.jpg&#39;</span><span class="p">);</span>
<span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="For-the-quickest">
<h4>For the quickest<a class="headerlink" href="#For-the-quickest" title="このヘッドラインへのパーマリンク">¶</a></h4>
<p>Try to use <a class="reference external" href="https://github.com/ipython/ipython/blob/1.x/IPython/html/static/notebook/js/celltoolbar.js#L367">the
following</a>
to bind a dropdown list to <code class="docutils literal"><span class="pre">cell.metadata.difficulty.select</span></code>.</p>
<p>It should be able to take the 4 following values :</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">&lt;None&gt;</span></code></li>
<li><code class="docutils literal"><span class="pre">Easy</span></code></li>
<li><code class="docutils literal"><span class="pre">Medium</span></code></li>
<li><code class="docutils literal"><span class="pre">Hard</span></code></li>
</ul>
<p>We will use it to customize the output of the converted notebook
depending on the tag on each cell</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none"><div class="highlight"><pre>
<span></span>In [1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3"><div class="highlight"><pre>
<span></span><span class="c1"># %load soln/celldiff.js</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Importing Notebooks.html" class="btn btn-neutral float-right" title="Importing Jupyter Notebooks as Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Custom Keyboard Shortcuts.html" class="btn btn-neutral" title="Keyboard Shortcut Customization" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Jupyter Team, https://jupyter.org.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 

<div role="contentinfo">
<p>このサイトは<a href="http://a-zumi.net">あずみ.net</a>が翻訳しております。</p>
<p>サイトを利用したことによる直接的、付随的、結果的、間接的、あるいは懲罰的な損害、経費、損失、または
債務について、いかなる責任も負いかねます。</p>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'5.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23705195-42"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-23705195-42');
</script>


</body>
</html>