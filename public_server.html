

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ノートブックサーバの実行 &mdash; Jupyter Notebook 5.2.1 ドキュメント</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="genindex.html"/>
        <link rel="search" title="検索" href="search.html"/>
    <link rel="top" title="Jupyter Notebook 5.2.1 ドキュメント" href="index.html"/>
        <link rel="next" title="Jupyterノートブックのセキュリティ" href="security.html"/>
        <link rel="prev" title="Config file and command line options" href="config.html"/>
<meta name="google-site-verification" content="weS-iT6zr4B9g-sBuM2nD1EZBt55FPAZZbS1K5mkC0g" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-23705195-42"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-23705195-42');
</script>


  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Jupyter Notebook
          

          
          </a>

          
            
            
              <div class="version">
                5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">ユーザー向けドキュメント</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="notebook.html">Jupyterノートブック</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.readthedocs.io/en/latest/install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.readthedocs.io/en/latest/running.html">Running the Notebook</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.readthedocs.io/en/latest/migrating.html">Migrating from IPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="ui_components.html">UIコンポーネント</a></li>
<li class="toctree-l1"><a class="reference internal" href="comms.html">通信</a></li>
</ul>
<p class="caption"><span class="caption-text">設定</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config_overview.html">設定の概要</a></li>
<li class="toctree-l1"><a class="reference internal" href="config.html">Config file and command line options</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ノートブックサーバの実行</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#securing-a-notebook-server">Securing a notebook server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#prerequisite-a-notebook-configuration-file">Prerequisite: A notebook configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#preparing-a-hashed-password">Preparing a hashed password</a></li>
<li class="toctree-l3"><a class="reference internal" href="#adding-hashed-password-to-your-notebook-configuration-file">Adding hashed password to your notebook configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-ssl-for-encrypted-communication">Using SSL for encrypted communication</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-a-public-notebook-server">Running a public notebook server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-let-s-encrypt">Using Let’s Encrypt</a></li>
<li class="toctree-l3"><a class="reference internal" href="#firewall-setup">Firewall Setup</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-notebook-with-a-customized-url-prefix">Running the notebook with a customized URL prefix</a></li>
<li class="toctree-l2"><a class="reference internal" href="#embedding-the-notebook-in-another-website">Embedding the notebook in another website</a></li>
<li class="toctree-l2"><a class="reference internal" href="#known-issues">Known issues</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#proxies">Proxies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#docker-cmd">Docker CMD</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Jupyterノートブックのセキュリティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html#security-in-notebook-documents">ノートブックドキュメントのセキュリティ</a></li>
<li class="toctree-l1"><a class="reference internal" href="frontend_config.html">ノートブックフロントエンドの設定</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Distributing Jupyter Extensions as Python Packages.html">Distributing Jupyter Extensions as Python Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="extending/index.html">Extending the Notebook</a></li>
</ul>
<p class="caption"><span class="caption-text">貢献者向けドキュメント</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to the Jupyter Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_release.html">Making a Notebook release</a></li>
<li class="toctree-l1"><a class="reference internal" href="development_faq.html">Developer FAQ</a></li>
</ul>
<p class="caption"><span class="caption-text">コミュニティ向けドキュメント</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/examples_index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/What is the Jupyter Notebook.html">What is the Jupyter Notebook?</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Notebook Basics.html">Notebook Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Running Code.html">Running Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Working With Markdown Cells.html">Markdown Cells</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Custom Keyboard Shortcuts.html">Keyboard Shortcut Customization</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Custom Keyboard Shortcuts.html#Keyboard-Shortcut-Customization-(Pre-Notebook-5.0)">Keyboard Shortcut Customization (Pre Notebook 5.0)</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/JavaScript Notebook Extensions.html">Embracing web standards</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Importing Notebooks.html">Importing Jupyter Notebooks as Modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Connecting with the Qt Console.html">Connecting to an existing IPython kernel using the Qt Console</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/Typesetting Equations.html">Motivating Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/nbpackage/mynotebook.html">My Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples/Notebook/nbpackage/nbs/other.html">Other notebook</a></li>
</ul>
<p class="caption"><span class="caption-text">Jupyterノートブックについて</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Jupyter notebook changelog</a></li>
</ul>
<p class="caption"><span class="caption-text">質問ですか？提案ですか？</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/#!forum/jupyter">Jupyter mailing list</a></li>
<li class="toctree-l1"><a class="reference external" href="https://jupyter.org">Jupyter website</a></li>
<li class="toctree-l1"><a class="reference external" href="https://stackoverflow.com/questions/tagged/jupyter">Stack Overflow - Jupyter</a></li>
<li class="toctree-l1"><a class="reference external" href="https://stackoverflow.com/questions/tagged/jupyter-notebook">Stack Overflow - Jupyter-notebook</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Jupyter Notebook</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>ノートブックサーバの実行</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
<div class="note" style="text-align:center">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- kurozumi.github.io/notebook/ 336*280 -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:336px;height:280px"
       data-ad-client="ca-pub-6843356127740583"
       data-ad-slot="5675011123"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="running-a-notebook-server">
<span id="working-remotely"></span><h1>ノートブックサーバの実行<a class="headerlink" href="#running-a-notebook-server" title="このヘッドラインへのパーマリンク">¶</a></h1>
<p><a class="reference internal" href="notebook.html"><span class="doc">Jupyter notebook</span></a> Webアプリケーションはサーバー-クライアント構造に基づいています。ノートブックサーバーは、<a class="reference external" href="http://zeromq.org">ZeroMQ</a> に基づく <a class="reference external" href="https://ipython.readthedocs.io/en/stable/overview.html#ipythonzmq" title="(in IPython v6.2.1)"><span class="xref std std-ref">two-process kernel architecture</span></a> とHTTPリクエストを処理するための <a class="reference external" href="http://www.tornadoweb.org">ornado</a> を使用します。</p>
<div class="admonition note">
<p class="first admonition-title">注釈</p>
<p class="last">デフォルトでは、ノートブックサーバーはローカルで127.0.0.1:8888で実行され、ローカルホストからのみアクセスできます。<a class="reference external" href="http://127.0.01">http://127.0.01</a>:8888を使用してブラウザからノートブックサーバーにアクセスできます。</p>
</div>
<p>このドキュメントでは、<a class="reference internal" href="#notebook-server-security"><span class="std std-ref">secure a notebook server</span></a> と、<a class="reference internal" href="#notebook-public-server"><span class="std std-ref">run it on a public interface</span></a> の方法について説明します。</p>
<div class="admonition important">
<p class="first admonition-title">重要</p>
<p><strong>This is not the multi-user server you are looking for</strong>. This document
describes how you can run a public server with a single user. This should
only be done by someone who wants remote access to their personal machine.
Even so, doing this requires a thorough understanding of the set-ups
limitations and security implications. If you allow multiple users to
access a notebook server as it is described in this document, their
commands may collide, clobber and overwrite each other.</p>
<p class="last">If you want a multi-user server, the official solution is  <a class="reference external" href="https://jupyterhub.readthedocs.io/en/latest/">JupyterHub</a>.
To use JupyterHub, you need a Unix server (typically Linux) running
somewhere that is accessible to your users on a network. This may run over
the public internet, but doing so introduces additional
<a class="reference external" href="https://jupyterhub.readthedocs.io/en/latest/getting-started/security-basics.html">security concerns</a>.</p>
</div>
<div class="section" id="securing-a-notebook-server">
<span id="notebook-server-security"></span><h2>Securing a notebook server<a class="headerlink" href="#securing-a-notebook-server" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>You can protect your notebook server with a simple single password by
configuring the <code class="xref py py-attr docutils literal"><span class="pre">NotebookApp.password</span></code> setting in
<code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>.</p>
<div class="section" id="prerequisite-a-notebook-configuration-file">
<h3>Prerequisite: A notebook configuration file<a class="headerlink" href="#prerequisite-a-notebook-configuration-file" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Check to see if you have a notebook configuration file,
<code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>. The default location for this file
is your Jupyter folder in your home directory, <code class="docutils literal"><span class="pre">~/.jupyter</span></code>.</p>
<p>If you don’t already have one, create a config file for the notebook
using the following command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ jupyter notebook --generate-config
</pre></div>
</div>
</div>
<div class="section" id="preparing-a-hashed-password">
<span id="hashed-pw"></span><h3>Preparing a hashed password<a class="headerlink" href="#preparing-a-hashed-password" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>As of notebook version 5.0, you can enter and store a password for your
notebook server with a single command.
<strong class="command">jupyter notebook password</strong> will prompt you for your password
and record the hashed password in your <code class="file docutils literal"><span class="pre">jupyter_notebook_config.json</span></code>.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ jupyter notebook password
Enter password:  ****
Verify password: ****
<span class="o">[</span>NotebookPasswordApp<span class="o">]</span> Wrote hashed password to /Users/you/.jupyter/jupyter_notebook_config.json
</pre></div>
</div>
<p>You can prepare a hashed password manually, using the function
<code class="xref py py-func docutils literal"><span class="pre">notebook.auth.security.passwd()</span></code>:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span></span><span class="gp">In [1]: </span><span class="kn">from</span> <span class="nn">notebook.auth</span> <span class="kn">import</span> <span class="n">passwd</span>
<span class="gp">In [2]: </span><span class="n">passwd</span><span class="p">()</span>
<span class="go">Enter password:</span>
<span class="go">Verify password:</span>
<span class="gh">Out[2]: </span><span class="go">&#39;sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed&#39;</span>
</pre></div>
</div>
<div class="admonition caution">
<p class="first admonition-title">ご用心</p>
<p class="last"><code class="xref py py-func docutils literal"><span class="pre">passwd()</span></code> when called with no arguments
will prompt you to enter and verify your password such as
in the above code snippet. Although the function can also
be passed a string as an argument such as <code class="docutils literal"><span class="pre">passwd('mypassword')</span></code>, please
<strong>do not</strong> pass a string as an argument inside an IPython session, as it
will be saved in your input history.</p>
</div>
</div>
<div class="section" id="adding-hashed-password-to-your-notebook-configuration-file">
<h3>Adding hashed password to your notebook configuration file<a class="headerlink" href="#adding-hashed-password-to-your-notebook-configuration-file" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>You can then add the hashed password to your
<code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>. The default location for this file
<code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code> is in your Jupyter folder in your home
directory, <code class="docutils literal"><span class="pre">~/.jupyter</span></code>, e.g.:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;sha1:67c9e60bb8b6:9ffede0825894254b2e042ea597d771089e11aed&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="using-ssl-for-encrypted-communication">
<h3>Using SSL for encrypted communication<a class="headerlink" href="#using-ssl-for-encrypted-communication" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>When using a password, it is a good idea to also use SSL with a web
certificate, so that your hashed password is not sent unencrypted by your
browser.</p>
<div class="admonition important">
<p class="first admonition-title">重要</p>
<p class="last">Web security is rapidly changing and evolving. We provide this document
as a convenience to the user, and recommend that the user keep current on
changes that may impact security, such as new releases of OpenSSL.
The Open Web Application Security Project (<a class="reference external" href="https://www.owasp.org">OWASP</a>) website is a good resource
on general security issues and web practices.</p>
</div>
<p>You can start the notebook to communicate via a secure protocol mode by setting
the <code class="docutils literal"><span class="pre">certfile</span></code> option to your self-signed certificate, i.e. <code class="docutils literal"><span class="pre">mycert.pem</span></code>,
with the command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ jupyter notebook --certfile=mycert.pem --keyfile mykey.key
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">ちなみに</p>
<p>A self-signed certificate can be generated with <code class="docutils literal"><span class="pre">openssl</span></code>.  For example,
the following command will create a certificate valid for 365 days with
both the key and certificate data written to the same file:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>$ openssl req -x509 -nodes -days 365 -newkey rsa:2048 -keyout mykey.key -out mycert.pem
</pre></div>
</div>
</div>
<p>When starting the notebook server, your browser may warn that your self-signed
certificate is insecure or unrecognized.  If you wish to have a fully
compliant self-signed certificate that will not raise warnings, it is possible
(but rather involved) to create one, as explained in detail in this
<a class="reference external" href="https://arstechnica.com/information-technology/2009/12/how-to-get-set-with-a-secure-sertificate-for-free/">tutorial</a>. Alternatively, you may use <a class="reference external" href="https://letsencrypt.org">Let’s Encrypt</a> to acquire a free SSL
certificate and follow the steps in <a class="reference internal" href="#using-lets-encrypt"><span class="std std-ref">Using Let’s Encrypt</span></a> to set up a
public server.</p>
</div>
</div>
<div class="section" id="running-a-public-notebook-server">
<span id="notebook-public-server"></span><h2>Running a public notebook server<a class="headerlink" href="#running-a-public-notebook-server" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>If you want to access your notebook server remotely via a web browser,
you can do so by running a public notebook server. For optimal security
when running a public notebook server, you should first secure the
server with a password and SSL/HTTPS as described in
<a class="reference internal" href="#notebook-server-security"><span class="std std-ref">Securing a notebook server</span></a>.</p>
<p>Start by creating a certificate file and a hashed password, as explained in
<a class="reference internal" href="#notebook-server-security"><span class="std std-ref">Securing a notebook server</span></a>.</p>
<p>If you don’t already have one, create a
config file for the notebook using the following command line:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>$ jupyter notebook --generate-config
</pre></div>
</div>
<p>In the <code class="docutils literal"><span class="pre">~/.jupyter</span></code> directory, edit the notebook config file,
<code class="docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>.  By default, the notebook config file has
all fields commented out. The minimum set of configuration options that
you should uncomment and edit in <code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code> is the
following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Set options for certfile, ip, password, and toggle off</span>
<span class="c1"># browser auto-opening</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">certfile</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;/absolute/path/to/your/certificate/mycert.pem&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">keyfile</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;/absolute/path/to/your/certificate/mykey.key&#39;</span>
<span class="c1"># Set ip to &#39;*&#39; to bind on all interfaces (ips) for the public server</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">ip</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;sha1:bcd259ccf...&lt;your hashed password here&gt;&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">open_browser</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># It is a good idea to set a known, fixed port for server access</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="mi">9999</span>
</pre></div>
</div>
<p>You can then start the notebook using the <code class="docutils literal"><span class="pre">jupyter</span> <span class="pre">notebook</span></code> command.</p>
<div class="section" id="using-let-s-encrypt">
<span id="using-lets-encrypt"></span><h3>Using Let’s Encrypt<a class="headerlink" href="#using-let-s-encrypt" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p><a class="reference external" href="https://letsencrypt.org">Let’s Encrypt</a> provides free SSL/TLS certificates. You can also set up a
public server using a <a class="reference external" href="https://letsencrypt.org">Let’s Encrypt</a> certificate.</p>
<p><a class="reference internal" href="#notebook-public-server"><span class="std std-ref">Running a public notebook server</span></a> will be similar when using a Let’s Encrypt
certificate with a few configuration changes. Here are the steps:</p>
<ol class="arabic">
<li><p class="first">Create a <a class="reference external" href="https://letsencrypt.org/getting-started/">Let’s Encrypt certificate</a>.</p>
</li>
<li><p class="first">Use <a class="reference internal" href="#hashed-pw"><span class="std std-ref">Preparing a hashed password</span></a> to create one.</p>
</li>
<li><p class="first">If you don’t already have config file for the notebook, create one
using the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ jupyter notebook --generate-config
</pre></div>
</div>
</li>
</ol>
<p>4. In the <code class="docutils literal"><span class="pre">~/.jupyter</span></code> directory, edit the notebook config file,
<code class="docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>.  By default, the notebook config file has
all fields commented out. The minimum set of configuration options that
you should to uncomment and edit in <code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code> is the
following:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="c1"># Set options for certfile, ip, password, and toggle off</span>
<span class="c1"># browser auto-opening</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">certfile</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;/absolute/path/to/your/certificate/fullchain.pem&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">keyfile</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;/absolute/path/to/your/certificate/privkey.pem&#39;</span>
<span class="c1"># Set ip to &#39;*&#39; to bind on all interfaces (ips) for the public server</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">ip</span> <span class="o">=</span> <span class="s1">&#39;*&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">password</span> <span class="o">=</span> <span class="sa">u</span><span class="s1">&#39;sha1:bcd259ccf...&lt;your hashed password here&gt;&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">open_browser</span> <span class="o">=</span> <span class="kc">False</span>

<span class="c1"># It is a good idea to set a known, fixed port for server access</span>
<span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="mi">9999</span>
</pre></div>
</div>
<p>You can then start the notebook using the <code class="docutils literal"><span class="pre">jupyter</span> <span class="pre">notebook</span></code> command.</p>
<div class="admonition important">
<p class="first admonition-title">重要</p>
<p><strong>Use 『https』.</strong>
Keep in mind that when you enable SSL support, you must access the
notebook server over <code class="docutils literal"><span class="pre">https://</span></code>, not over plain <code class="docutils literal"><span class="pre">http://</span></code>.  The startup
message from the server prints a reminder in the console, but <em>it is easy
to overlook this detail and think the server is for some reason
non-responsive</em>.</p>
<p class="last"><strong>When using SSL, always access the notebook server with 『https://』.</strong></p>
</div>
<p>You may now access the public server by pointing your browser to
<code class="docutils literal"><span class="pre">https://your.host.com:9999</span></code> where <code class="docutils literal"><span class="pre">your.host.com</span></code> is your public server’s
domain.</p>
</div>
<div class="section" id="firewall-setup">
<h3>Firewall Setup<a class="headerlink" href="#firewall-setup" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>To function correctly, the firewall on the computer running the jupyter
notebook server must be configured to allow connections from client
machines on the access port <code class="docutils literal"><span class="pre">c.NotebookApp.port</span></code> set in
<code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code> to allow connections to the
web interface.  The firewall must also allow connections from
127.0.0.1 (localhost) on ports from 49152 to 65535.
These ports are used by the server to communicate with the notebook kernels.
The kernel communication ports are chosen randomly by ZeroMQ, and may require
multiple connections per kernel, so a large range of ports must be accessible.</p>
</div>
</div>
<div class="section" id="running-the-notebook-with-a-customized-url-prefix">
<h2>Running the notebook with a customized URL prefix<a class="headerlink" href="#running-the-notebook-with-a-customized-url-prefix" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>The notebook dashboard, which is the landing page with an overview
of the notebooks in your working directory, is typically found and accessed
at the default URL <code class="docutils literal"><span class="pre">http://localhost:8888/</span></code>.</p>
<p>If you prefer to customize the URL prefix for the notebook dashboard, you can
do so through modifying <code class="docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>. For example, if you
prefer that the notebook dashboard be located with a sub-directory that
contains other ipython files, e.g. <code class="docutils literal"><span class="pre">http://localhost:8888/ipython/</span></code>,
you can do so with configuration options like the following (see above for
instructions about modifying <code class="docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>):</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">base_url</span> <span class="o">=</span> <span class="s1">&#39;/ipython/&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="embedding-the-notebook-in-another-website">
<h2>Embedding the notebook in another website<a class="headerlink" href="#embedding-the-notebook-in-another-website" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Sometimes you may want to embed the notebook somewhere on your website,
e.g. in an IFrame. To do this, you may need to override the
Content-Security-Policy to allow embedding. Assuming your website is at
<cite>https://mywebsite.example.com</cite>, you can embed the notebook on your website
with the following configuration setting in
<code class="file docutils literal"><span class="pre">jupyter_notebook_config.py</span></code>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">tornado_settings</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;headers&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;Content-Security-Policy&#39;</span><span class="p">:</span> <span class="s2">&quot;frame-ancestors https://mywebsite.example.com &#39;self&#39; &quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When embedding the notebook in a website using an iframe,
consider putting the notebook in single-tab mode.
Since the notebook opens some links in new tabs by default,
single-tab mode keeps the notebook from opening additional tabs.
Adding the following to <code class="file docutils literal"><span class="pre">~/.jupyter/custom/custom.js</span></code> will enable
single-tab mode:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">define</span><span class="p">([</span><span class="s1">&#39;base/js/namespace&#39;</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">Jupyter</span><span class="p">){</span>
    <span class="nx">Jupyter</span><span class="p">.</span><span class="nx">_target</span> <span class="o">=</span> <span class="s1">&#39;_self&#39;</span><span class="p">;</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
<div class="section" id="known-issues">
<h2>Known issues<a class="headerlink" href="#known-issues" title="このヘッドラインへのパーマリンク">¶</a></h2>
<div class="section" id="proxies">
<h3>Proxies<a class="headerlink" href="#proxies" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>When behind a proxy, especially if your system or browser is set to autodetect
the proxy, the notebook web application might fail to connect to the server’s
websockets, and present you with a warning at startup. In this case, you need
to configure your system not to use the proxy for the server’s address.</p>
<p>For example, in Firefox, go to the Preferences panel, Advanced section,
Network tab, click 『Settings…』, and add the address of the notebook server
to the 『No proxy for』 field.</p>
</div>
<div class="section" id="docker-cmd">
<h3>Docker CMD<a class="headerlink" href="#docker-cmd" title="このヘッドラインへのパーマリンク">¶</a></h3>
<p>Using <code class="docutils literal"><span class="pre">jupyter</span> <span class="pre">notebook</span></code> as a
<a class="reference external" href="https://docs.docker.com/engine/reference/builder/#cmd">Docker CMD</a> results in
kernels repeatedly crashing, likely due to a lack of <a class="reference external" href="https://blog.phusion.nl/2015/01/20/docker-and-the-pid-1-zombie-reaping-problem/">PID reaping</a>.
To avoid this, use the <a class="reference external" href="https://github.com/krallin/tini">tini</a> <code class="docutils literal"><span class="pre">init</span></code> as your
Dockerfile <cite>ENTRYPOINT</cite>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span># Add Tini. Tini operates as a process subreaper for jupyter. This prevents
# kernel crashes.
ENV TINI_VERSION v0.6.0
ADD https://github.com/krallin/tini/releases/download/${TINI_VERSION}/tini /usr/bin/tini
RUN chmod +x /usr/bin/tini
ENTRYPOINT [&quot;/usr/bin/tini&quot;, &quot;--&quot;]

EXPOSE 8888
CMD [&quot;jupyter&quot;, &quot;notebook&quot;, &quot;--port=8888&quot;, &quot;--no-browser&quot;, &quot;--ip=0.0.0.0&quot;]
</pre></div>
</div>
</div>
</div>
</div>


<div class="note" style="text-align:center">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- kurozumi.github.io/notebook/ 336*280 -->
  <ins class="adsbygoogle"
       style="display:inline-block;width:336px;height:280px"
       data-ad-client="ca-pub-6843356127740583"
       data-ad-slot="5675011123"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="security.html" class="btn btn-neutral float-right" title="Jupyterノートブックのセキュリティ" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="config.html" class="btn btn-neutral" title="Config file and command line options" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Jupyter Team, https://jupyter.org.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
 

<div role="contentinfo">
<p>このサイトは<a href="http://a-zumi.net">あずみ.net</a>が翻訳しております。</p>
<p>サイトを利用したことによる直接的、付随的、結果的、間接的、あるいは懲罰的な損害、経費、損失、または
債務について、いかなる責任も負いかねます。</p>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'5.2.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 


</body>
</html>